<div class="listado-container">
  <h2>Listado de Lecturas</h2>

  <div *ngIf="cargando" class="alert alert-info">Cargando lecturas...</div>
  <div *ngIf="error" class="alert alert-danger">{{ error }}</div>

  <table class="table table-striped" *ngIf="!cargando && !error && lecturas.length">
    <thead>
      <tr>
        <th>ID</th>
        <th>ID Medidor</th>
        <th>AÃ±o</th>
        <th>Mes</th>
        <th>Lectura (kWh)</th>
        <th>ObservaciÃ³n</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      @for (l of lecturas; track l.id_lectura) {
        <tr>
          <td>{{ l.id_lectura }}</td>
          <td>{{ l.id_medidor }}</td>
          <td>{{ l.anio }}</td>
          <td>{{ l.mes }}</td>
          <td>{{ l.lectura_kwh }}</td>
          <td>{{ l.observacion || 'â€”' }}</td>
          <td>
            <button class="btn btn-sm btn-warning" [routerLink]="['/inicio/lectura']" [queryParams]="{ id: l.id_lectura }">
              âœï¸ Editar
            </button>
            <button class="btn btn-sm btn-danger" (click)="eliminar(l.id_lectura)">ğŸ—‘ï¸ Eliminar</button>
          </td>
        </tr>
      }
    </tbody>
  </table>

  <div *ngIf="!lecturas.length && !cargando" class="alert alert-secondary">
    No hay lecturas registradas.
  </div>

  <div class="text-center mt-3">
    <button class="btn btn-primary" (click)="nuevo()">â• Nueva Lectura</button>
  </div>
</div>
