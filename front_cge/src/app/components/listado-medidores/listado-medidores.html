<div class="container mt-4">
  <h1 class="text-center mb-4">Listado de Medidores</h1>

  <!-- Estado de carga -->
  <div *ngIf="loading" class="alert alert-info text-center">
    Cargando medidores...
  </div>

  <!-- Mensaje de error -->
  <div *ngIf="error" class="alert alert-danger text-center">
    {{ error }}
  </div>

  <!-- Tabla principal -->
  <div *ngIf="!loading && !error && medidores.length > 0; else vacio">
    <table class="table table-striped table-bordered align-middle">
      <thead class="table-primary">
        <tr>
          <th>ID</th>
          <th>CÃ³digo Medidor</th>
          <th>ID Cliente</th>
          <th>DirecciÃ³n de Suministro</th>
          <th>Estado</th>
          <th class="text-center">Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let m of medidores">
          <td>{{ m.id_medidor }}</td>
          <td>{{ m.codigo_medidor }}</td>
          <td>{{ m.id_cliente }}</td>
          <td>{{ m.direccion_suministro }}</td>
          <td>
            <span
              class="badge"
              [ngClass]="{
                'bg-success': m.estado === 'activo' || m.estado === 'Activo',
                'bg-secondary': m.estado === 'inactivo' || m.estado === 'Inactivo'
              }"
            >
              {{ m.estado | titlecase }}
            </span>
          </td>
          <td class="text-center">
            <button class="btn btn-sm btn-warning me-2" (click)="editar(m.id_medidor)">
              âœï¸ Editar
            </button>
            <button class="btn btn-sm btn-danger" (click)="eliminar(m.id_medidor)">
              ğŸ—‘ï¸ Eliminar
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Mensaje si no hay registros -->
  <ng-template #vacio>
    <div class="alert alert-warning text-center">
      No hay medidores registrados.
    </div>
  </ng-template>

  <!-- BotÃ³n para crear nuevo -->
  <div class="text-center mt-3">
    <button class="btn btn-primary" (click)="nuevo()">â• Nuevo Medidor</button>
  </div>
</div>

